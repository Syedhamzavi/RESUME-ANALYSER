{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API || \"http://localhost:8000\";\nasync function request(url, options = {}) {\n  const res = await fetch(`${API_BASE}${url}`, options);\n  const ct = res.headers.get(\"content-type\") || \"\";\n  const isJSON = ct.includes(\"application/json\");\n  const payload = isJSON ? await res.json() : await res.text();\n  if (!res.ok) {\n    const msg = isJSON ? (payload === null || payload === void 0 ? void 0 : payload.detail) || (payload === null || payload === void 0 ? void 0 : payload.error) : payload;\n    throw new Error(msg || \"API Error\");\n  }\n  return payload;\n}\n\n// --- MODIFIED FUNCTION ---\nexport async function analyzeFile(file, jobDescription) {\n  // 1. Added jobDescription as a parameter\n  const form = new FormData();\n  form.append(\"file\", file);\n\n  // 2. Appended the job description to the form data.\n  // The key 'job_description' must match what your backend expects.\n  form.append(\"job_description\", jobDescription);\n  return request(\"/analyze\", {\n    method: \"POST\",\n    body: form\n  });\n}\nexport async function health() {\n  return request(\"/health\");\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API","request","url","options","res","fetch","ct","headers","get","isJSON","includes","payload","json","text","ok","msg","detail","error","Error","analyzeFile","file","jobDescription","form","FormData","append","method","body","health"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/Resume_Analyser/Resume_Analyser/Frontend/src/services/api.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API || \"http://localhost:8000\";\r\n\r\nasync function request(url, options = {}) {\r\n  const res = await fetch(`${API_BASE}${url}`, options);\r\n  const ct = res.headers.get(\"content-type\") || \"\";\r\n  const isJSON = ct.includes(\"application/json\");\r\n  const payload = isJSON ? await res.json() : await res.text();\r\n\r\n  if (!res.ok) {\r\n    const msg = isJSON ? payload?.detail || payload?.error : payload;\r\n    throw new Error(msg || \"API Error\");\r\n  }\r\n  return payload;\r\n}\r\n\r\n// --- MODIFIED FUNCTION ---\r\nexport async function analyzeFile(file, jobDescription) { // 1. Added jobDescription as a parameter\r\n  const form = new FormData();\r\n  form.append(\"file\", file);\r\n  \r\n  // 2. Appended the job description to the form data.\r\n  // The key 'job_description' must match what your backend expects.\r\n  form.append(\"job_description\", jobDescription); \r\n  \r\n  return request(\"/analyze\", { method: \"POST\", body: form });\r\n}\r\n\r\nexport async function health() {\r\n  return request(\"/health\");\r\n}"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,aAAa,IAAI,uBAAuB;AAErE,eAAeC,OAAOA,CAACC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EACxC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGR,QAAQ,GAAGK,GAAG,EAAE,EAAEC,OAAO,CAAC;EACrD,MAAMG,EAAE,GAAGF,GAAG,CAACG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;EAChD,MAAMC,MAAM,GAAGH,EAAE,CAACI,QAAQ,CAAC,kBAAkB,CAAC;EAC9C,MAAMC,OAAO,GAAGF,MAAM,GAAG,MAAML,GAAG,CAACQ,IAAI,CAAC,CAAC,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;EAE5D,IAAI,CAACT,GAAG,CAACU,EAAE,EAAE;IACX,MAAMC,GAAG,GAAGN,MAAM,GAAG,CAAAE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEK,MAAM,MAAIL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEM,KAAK,IAAGN,OAAO;IAChE,MAAM,IAAIO,KAAK,CAACH,GAAG,IAAI,WAAW,CAAC;EACrC;EACA,OAAOJ,OAAO;AAChB;;AAEA;AACA,OAAO,eAAeQ,WAAWA,CAACC,IAAI,EAAEC,cAAc,EAAE;EAAE;EACxD,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;;EAEzB;EACA;EACAE,IAAI,CAACE,MAAM,CAAC,iBAAiB,EAAEH,cAAc,CAAC;EAE9C,OAAOpB,OAAO,CAAC,UAAU,EAAE;IAAEwB,MAAM,EAAE,MAAM;IAAEC,IAAI,EAAEJ;EAAK,CAAC,CAAC;AAC5D;AAEA,OAAO,eAAeK,MAAMA,CAAA,EAAG;EAC7B,OAAO1B,OAAO,CAAC,SAAS,CAAC;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}